<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - {{ college.college_name }}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .navbar h1 {
            font-size: 1.5em;
        }

        .navbar a {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 5px;
            text-decoration: none;
            transition: all 0.2s;
        }

        .navbar a:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .panel {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .panel h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 600;
            font-size: 0.95rem;
        }

        input,
        textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        input:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        button {
            width: 100%;
            padding: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .alerts {
            margin-bottom: 20px;
        }

        .alert {
            padding: 12px 15px;
            border-radius: 5px;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
        }

        .alert.danger {
            background: #f8d7da;
            color: #721c24;
        }

        .log-item {
            background: #f9f9f9;
            padding: 12px;
            border-left: 4px solid #667eea;
            margin-bottom: 10px;
            border-radius: 3px;
        }

        .log-item .question {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .log-item .meta {
            font-size: 0.85rem;
            color: #999;
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 30px 0;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .row {
                grid-template-columns: 1fr;
            }

            .navbar {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>

<body>
    <div class="navbar">
        <h1>üéì Admin Dashboard</h1>
        <a href="/">‚Üê Home</a>
    </div>

    <div class="container">
        <h1 style="color: #333; margin-bottom: 20px;">{{ college.college_name }} Management</h1>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="alerts">
            {% for category, message in messages %}
            <div class="alert {{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <div class="row">
            <!-- Add Q&A Panel -->
            <div class="panel">
                <h2>üìù Add Question & Answer</h2>
                <form method="POST">
                    <div class="form-group">
                        <label for="question">Question:</label>
                        <input type="text" id="question" name="question" placeholder="e.g., What are admission fees?"
                            required>
                    </div>

                    <div class="form-group">
                        <label for="answer">Answer:</label>
                        <textarea id="answer" name="answer" placeholder="Provide a detailed answer..."
                            required></textarea>
                    </div>

                    <button type="submit">Save Q&A</button>
                </form>
            </div>

            <!-- Unanswered Questions Log -->
            <div class="panel">
                <h2>‚ùì Unanswered Questions</h2>
                {% if logs %}
                {% for log in logs %}
                <div class="log-item">
                    <div class="question">"{{ log.query }}"</div>
                    <div class="meta">üë§ Unanswered</div>
                </div>
                {% endfor %}
                {% else %}
                <div class="empty-state">
                    ‚úì All questions are answered!
                </div>
                {% endif %}
            </div>
        </div>

        <div class="panel">
            <h2>üìä Dashboard Info</h2>
            <p style="color: #666; line-height: 1.6;">
                <strong>College:</strong> {{ college.college_name }}<br>
                <strong>College ID:</strong> <code
                    style="background: #f0f0f0; padding: 2px 6px; border-radius: 3px;">{{ college.college_id }}</code><br>
                <strong>Status:</strong> {{ college.status | default('Active') }}<br>
                <br>
                Use the form on the left to add common questions and answers that students ask about your college.
                The unanswered questions list shows what students have asked that you haven't answered yet‚Äîgreat for
                identifying common concerns!
            </p>
        </div>
    </div>
</body>

</html>